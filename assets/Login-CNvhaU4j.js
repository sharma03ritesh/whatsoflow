import{r as o,j as e}from"./app-BizxXqg7.js";import{B as f}from"./button-BQ_HaO7-.js";import{C as w,a as j,b as g,d as y,c as N}from"./card-DySrz6MO.js";import{I as m}from"./input-V6jPku_u.js";import{L as p}from"./label-D43lO-9X.js";import{L as b}from"./loader-circle-qK_5H3YY.js";import"./loading-spinner-BXfFPKXA.js";import"./index-DZiRmdSI.js";import"./index-3YIUB5mP.js";function T(){const[n,u]=o.useState(""),[i,x]=o.useState(""),[t,l]=o.useState(!1),[d,c]=o.useState(null),h=async s=>{s.preventDefault(),c(null),l(!0);try{let a;if(window.axios)a=await window.axios.post("/api/login",{email:n,password:i});else{const r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:n,password:i})});if(!r.ok)throw{response:{data:await r.json().catch(()=>({}))},status:r.status};a={data:await r.json()}}a.data.token?localStorage.setItem("token",a.data.token):a.data.access_token&&localStorage.setItem("token",a.data.access_token),window.location.href="/dashboard"}catch(a){c(a.response?.data?.message||a.response?.data?.error||"Login failed. Please check your credentials."),l(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(w,{children:[e.jsxs(j,{className:"space-y-1",children:[e.jsx(g,{className:"text-2xl font-bold text-center",children:"Sign in to your account"}),e.jsx(y,{className:"text-center",children:"Enter your email and password to continue"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d&&e.jsx("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-800",children:d}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",type:"email",placeholder:"name@example.com",value:n,onChange:s=>u(s.target.value),required:!0,disabled:t,autoComplete:"email",className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(m,{id:"password",type:"password",placeholder:"Enter your password",value:i,onChange:s=>x(s.target.value),required:!0,disabled:t,autoComplete:"current-password",className:"w-full"})]}),e.jsx(f,{type:"submit",className:"w-full",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})})]})})})}export{T as default};
